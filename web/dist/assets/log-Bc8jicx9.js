import{d as pe,i as fe,r as v,c as d,a as e,t as a,u as n,b as w,n as b,e as G,j,T as xe,A as me,F as B,k as O,g as k,S as J,B as we,H as be,w as ke,f as _e,X as Ce,l as Le,m as Te,o as c}from"./vue-core-DwKv0Rhc.js";import{a as E,t as r,g as Se}from"./home-DUDxC40x.js";import{M as je}from"./markdown-DFL4g3uG.js";import{H as W}from"./highlight-BWSUy9dk.js";const K={home:"首页 - NingZeLogs Next",log:(g,h)=>`${g||h||"日志"} - NingZeLogs Next`,apiDocs:"API文档 - NingZeLogs Next",imprint:"法律声明 - NingZeLogs Next",privacy:"隐私政策 - NingZeLogs Next",notFound:"页面未找到 - NingZeLogs Next"},X=(g,h)=>{let u="";if(typeof g=="string"&&g in K){const i=K[g];typeof i=="function"?u=i(h?.title,h?.id):u=i}else typeof g=="string"?u=g:u="NingZeLogs Next";document.title=u},Ht=g=>{switch(g){case"home":return"home";case"log":return"log";case"api-docs":return"apiDocs";case"imprint":return"imprint";case"privacy":return"privacy";default:return"notFound"}};function Y(g){const h=g.split(`
`);let u="<table>";return h.forEach((i,l)=>{if(h.length===l+1&&i==="")return;const y=l+1;let C="info";i.match(/(\/|: |\[)WARN(ING)?(\]|:| )/i)?C="warning":i.match(/(\/|: |\[)(ERR(OR)?|FATAL|SEVERE)(\]|:| )/i)?C="error":i.match(/(\/|: |\[)(DEBUG)(\]|:| )/i)&&(C="debug");const I=C==="error"?"entry-error":"entry-no-error",T=`level-${C}`;let L=Ae(i);u+=`<tr class="entry ${I}"><td class="line-number-container"><a href="#L${y}" id="L${y}" class="line-number">${y}</a></td><td><span class="level ${T}">${L}</span></td></tr>`}),u+="</table>",u}function Ae(g){let h=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");const u={0:"format-black",1:"format-darkblue",2:"format-darkgreen",3:"format-darkaqua",4:"format-darkred",5:"format-darkpurple",6:"format-gold",7:"format-gray",8:"format-darkgray",9:"format-blue",a:"format-green",b:"format-aqua",c:"format-red",d:"format-lightpurple",e:"format-yellow",f:"format-white",k:"format-obfuscated",l:"format-bold",m:"format-strike",n:"format-underline",o:"format-italic",r:"format-reset"};return h=h.replace(/§([0-9a-fk-or])/gi,(i,l)=>{const y=u[l.toLowerCase()];return y?`<span class="${y}">`:i}),h}const Q={AI_ANALYSIS_HISTORY:"ai_analysis_history",USER_LOG_RECORDS:"user_log_records",PAGE_TITLE:"page_title"},Ne=(g,h)=>{try{const u=JSON.parse(localStorage.getItem(Q.AI_ANALYSIS_HISTORY)||"[]"),i=u.findIndex(y=>y.logId===g),l={id:Date.now().toString(),logId:g,analysis:h,timestamp:new Date};i!==-1?u[i]=l:u.push(l),u.length>50&&u.splice(0,u.length-50),localStorage.setItem(Q.AI_ANALYSIS_HISTORY,JSON.stringify(u))}catch(u){console.error("保存AI分析记录失败:",u)}},Re={key:0,class:"container mx-auto px-4 py-12 text-center"},Ie={key:1,class:"container mx-auto px-4 py-12 text-center"},$e={class:"text-muted-foreground"},Ee={key:0,class:"w-full lg:w-1/3 space-y-6"},Me={class:"bg-card dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-5 shadow-sm text-card-foreground dark:text-gray-100 transition-colors duration-300"},He={class:"text-xl font-bold break-all transition-colors duration-300"},Be={class:"text-xs text-muted-foreground dark:text-gray-400 mt-1 transition-colors duration-300"},Oe={class:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/30 rounded-md transition-colors duration-300"},Fe={class:"text-sm text-blue-800 dark:text-blue-200 transition-colors duration-300"},Ve={class:"grid grid-cols-2 gap-2 mt-4"},De={class:"grid grid-cols-2 gap-2 mt-3"},ze={class:"mt-3"},Ue={class:"mt-4 flex items-center justify-between pt-3 border-t dark:border-gray-700 transition-colors duration-300"},Ye={class:"flex items-center gap-3"},Ze={class:"text-base font-medium text-muted-foreground dark:text-gray-300 select-none cursor-pointer transition-colors duration-300"},Pe={class:"flex items-center gap-2"},qe={class:"ml-1"},Ge={key:0,class:"bg-destructive/10 dark:bg-red-900/20 border border-destructive/20 dark:border-red-800/30 rounded-lg p-5 transition-colors duration-300"},Je={class:"font-bold text-destructive dark:text-red-400 mb-3 flex items-center gap-2 transition-colors duration-300"},We={class:"space-y-4"},Ke={class:"font-medium flex items-start gap-2"},Xe={key:0,class:"text-xs text-muted-foreground dark:text-gray-400 ml-1 transition-colors duration-300"},Qe={key:0,class:"mt-2 pl-5 border-l-2 border-destructive/30 dark:border-red-700/40 space-y-1 transition-colors duration-300"},et={class:"relative bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border border-primary/30 rounded-xl p-6 shadow-lg text-card-foreground overflow-hidden transition-colors duration-300"},tt={class:"absolute top-6 right-6 opacity-20 dark:opacity-10 text-primary transition-opacity duration-300"},ot={class:"font-bold mb-3 flex items-center gap-2 relative z-10 transition-colors duration-300"},rt={key:0,class:"mb-4 bg-secondary/30 dark:bg-gray-700/30 p-3 rounded-lg border border-secondary/50 dark:border-gray-600 relative z-10"},st={class:"flex justify-between items-center mb-2"},nt={key:0,class:"text-sm text-muted-foreground italic py-2"},at={key:1,class:"space-y-2 max-h-40 overflow-y-auto"},lt=["onClick"],it={class:"flex justify-between"},dt={key:1,class:"relative z-10"},ct={class:"text-xs text-muted-foreground mt-3 text-center transition-colors duration-300"},ut={key:2,class:"text-center py-6 relative z-10"},gt={class:"text-sm text-muted-foreground mt-3 transition-colors duration-300"},vt={key:3,class:"text-sm bg-secondary/50 dark:bg-gray-800 p-4 rounded-lg border dark:border-gray-700 overflow-x-auto max-h-64 overflow-y-auto relative z-10 transition-colors duration-300"},ht=["innerHTML"],yt={key:1,class:"bg-card dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-5 shadow-sm text-card-foreground dark:text-gray-100 transition-colors duration-300"},pt={class:"font-bold mb-3 flex items-center gap-2 transition-colors duration-300"},ft={class:"space-y-3"},xt={class:"text-muted-foreground dark:text-gray-400 transition-colors duration-300"},mt={class:"font-medium text-right break-all max-w-[50%] dark:text-gray-200 transition-colors duration-300"},wt={class:"bg-gray-800 dark:bg-gray-700 rounded-t-lg px-4 py-2 flex items-center justify-between border-b border-gray-700 dark:border-gray-600 transition-colors duration-300"},bt={class:"flex items-center gap-2"},kt={class:"text-gray-300 dark:text-gray-200 text-sm ml-2 transition-colors duration-300"},_t={class:"flex items-center gap-2"},Ct={class:"relative flex items-center"},Lt=["placeholder"],Tt={key:0,class:"ml-2 text-xs text-gray-400 dark:text-gray-300 transition-colors duration-300"},St=["title"],jt=["title"],At=["innerHTML"],Nt={class:"flex justify-end p-3 border-t border-gray-700 dark:border-gray-600"},Bt=pe({__name:"LogView",setup(g){const h=new je({html:!1,linkify:!0,highlight:function(o,t){if(t&&W.getLanguage(t))try{return'<pre class="hljs"><code>'+W.highlight(o,{language:t,ignoreIllegals:!0}).value+"</code></pre>"}catch{}return""}}),i=Le().params.id,l=v(null),y=v(""),C=v(!0),I=v(""),T=v(!1),L=v(!1),M=v(!1),x=v(""),H=v(""),_=v(0),f=v([]),m=v(!1),A=v(!1);let N=null;const R=v(!1),F=v([]),ee=Te(()=>{if(!x.value)return"";if(x.value.startsWith("Error")||x.value.startsWith("Analysis failed"))return`<div class="text-destructive">${x.value}</div>`;if(x.value.length>5e4)return'<div class="text-destructive">分析结果过长，已截断。请直接查看原始日志。</div>';try{return h.render(x.value)}catch(o){return console.error("Markdown渲染失败:",o),`<div class="text-destructive">渲染分析结果时发生错误: ${o.message}</div>`}}),te=async()=>{M.value=!0,x.value="";try{const{data:o}=await E.get(`/1/ai-analysis/${i}`);o.success?(x.value=o.analysis,Ne(i,o.analysis),N=null):x.value=r("analysis_failed")+": "+(o.analysis||r("unknown_error"))}catch(o){console.error(o);const t=o.response?.data?.analysis||o.response?.data?.error||o.message||r("unknown_error");x.value=r("analysis_failed")+": "+t}finally{M.value=!1}},oe=()=>{if(N===null)try{N=JSON.parse(localStorage.getItem("ai_analysis_history")||"[]")}catch(o){console.error("解析AI分析历史记录失败:",o),N=[]}F.value=N?N.filter(o=>o.logId===i):[]},re=()=>{R.value=!R.value,R.value&&oe()},se=o=>{x.value=o,R.value=!1};fe(async()=>{try{const[o,t]=await Promise.all([E.get(`/1/raw/${i}`),E.get(`/1/insights/${i}`)]);l.value=t.data;let s=typeof o.data=="string"?o.data:JSON.stringify(o.data);s.length>1e6&&(s=s.substring(0,1e6)+`

[日志过长，已截断...]`),V.value=s,y.value=Y(s),l.value?.title?X("log",{title:l.value.title,id:i}):X("log",{id:i})}catch(o){console.error("Failed to load log:",o),I.value=o.response?.data?.error||r("log_not_found")}finally{C.value=!1}});const ne=()=>{T.value=!T.value},ae=async()=>{if(confirm(r("delete_log_confirm")))try{const t=await(await fetch(`${Se("1/delete/")}${i}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();t.success?(alert(r("delete_log_success")),window.location.href="/"):alert(r("delete_log_failed")+": "+(t.error||r("unknown_error")))}catch(o){console.error("Failed to delete log:",o),alert(r("delete_log_failed")+": "+(o.message||r("network_error")))}},le=async()=>{if(!l.value||!l.value.analysis)try{const t=await E.get(`/1/insights/${i}`);l.value=t.data}catch(t){console.error("Failed to load analysis for share message:",t)}let o="我遇到了一个问题，";if(l.value&&l.value.analysis&&l.value.analysis.information){const t=l.value.analysis.information.find(s=>s.label.toLowerCase().includes("software")||s.label.toLowerCase().includes("version")||s.label.toLowerCase().includes("server"));t&&(o+=`是${t.label.replace(":","")} ${t.value} `)}o+=`的，链接如下：

`,o+=window.location.href;try{await navigator.clipboard.writeText(o),A.value=!0,setTimeout(()=>{A.value=!1},2e3)}catch(t){console.error("Failed to copy text: ",t);const s=document.createElement("textarea");s.value=o,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),A.value=!0,setTimeout(()=>{A.value=!1},2e3)}},ie=async()=>{try{const o=await E.get(`/1/raw/${i}`,{responseType:"blob"}),t=new Blob([o.data],{type:"text/plain"}),s=window.URL.createObjectURL(t),p=document.createElement("a");p.href=s,p.setAttribute("download",`${i}.log`),document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(s)}catch(o){console.error("Failed to download log:",o),alert("下载日志失败")}},Z=()=>{m.value=!m.value,m.value?document.body.classList.add("fullscreen-log-view"):document.body.classList.remove("fullscreen-log-view")},V=v(""),P=()=>{if(!H.value.trim()){y.value=Y(V.value),f.value=[],_.value=0;return}const o=V.value.split(`
`),t=[],s=[];if(o.forEach((p,$)=>{const he=p.toLowerCase(),D=H.value.toLowerCase().split(/\s+/).filter(S=>S.length>0);if(D.length>0&&D.every(S=>he.includes(S))){t.push($);let S=p;[...D].sort((z,U)=>U.length-z.length).forEach(z=>{const U=z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ye=new RegExp(`(${U})`,"gi");S=S.replace(ye,"<mark>$1</mark>")}),s.push(S)}}),s.length>0){const p=s.join(`
`);y.value=Y(p)}else y.value=`<div class="text-center p-8 text-gray-500 dark:text-gray-400">${r("no_results")}</div>`;f.value=t,_.value=0,t.length===0&&alert(r("no_results"))},q=o=>{const t=document.querySelector(".log-content");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},de=()=>{if(f.value.length===0)return;_.value=(_.value+1)%f.value.length,f.value[_.value]!==void 0&&q()},ce=()=>{if(f.value.length===0)return;const o=f.value.length;_.value=(_.value-1+o)%f.value.length,f.value[_.value]!==void 0&&q()},ue=o=>{o.key==="Enter"&&P()},ge=()=>window.scrollTo({top:0,behavior:"smooth"}),ve=()=>{const o=document.querySelector("footer");o?o.scrollIntoView({behavior:"smooth"}):window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};return(o,t)=>C.value?(c(),d("div",Re,[...t[3]||(t[3]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"},null,-1),e("p",{class:"mt-4 text-muted-foreground"},"正在加载日志...",-1)])])):I.value?(c(),d("div",Ie,[t[4]||(t[4]=e("h2",{class:"text-2xl font-bold text-destructive"},"错误",-1)),e("p",$e,a(I.value),1)])):(c(),d("div",{key:2,class:b(m.value?"fixed inset-0 z-50 bg-background":"container mx-auto px-4 py-6")},[e("div",{class:b(m.value?"h-full flex flex-col":"flex flex-col lg:flex-row gap-6")},[m.value?k("",!0):(c(),d("div",Ee,[e("div",Me,[e("h1",He,a(l.value.title),1),e("div",Be,a(n(r)("log"))+": "+a(l.value.id),1),e("div",Oe,[e("p",Fe,[e("strong",null,a(n(r)("info"))+"：",1),w(a(n(r)("home_subtitle"))+a(n(r)("share"))+a(n(r)("log")),1)])]),e("div",Ve,[e("button",{onClick:ie,class:"text-sm bg-secondary hover:bg-secondary/80 text-secondary-foreground px-3 py-2 rounded text-center flex items-center justify-center gap-2 transition-colors duration-300"},[t[5]||(t[5]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e("polyline",{points:"7 10 12 15 17 10"}),e("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)),w(" "+a(n(r)("download"))+a(n(r)("log")),1)]),e("button",{onClick:ne,class:b(["text-sm px-3 py-2 rounded transition-colors text-center transition-colors duration-300",T.value?"bg-destructive text-destructive-foreground":"bg-secondary hover:bg-secondary/80 text-secondary-foreground"])},a(T.value?n(r)("show_all"):n(r)("show_errors_only")),3)]),e("div",De,[e("button",{onClick:ae,class:"text-sm bg-destructive hover:bg-destructive/90 text-destructive-foreground px-3 py-2 rounded flex items-center justify-center gap-2 transition-colors duration-300"},[t[6]||(t[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M3 6h18"}),e("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),e("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})],-1)),w(" "+a(n(r)("delete"))+a(n(r)("log")),1)]),e("button",{onClick:le,class:b(["text-sm bg-primary hover:bg-primary/90 text-primary-foreground px-3 py-2 rounded flex items-center justify-center gap-2 transition-colors duration-300",A.value?"bg-green-600 hover:bg-green-700":""])},[t[7]||(t[7]=G('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>',1)),e("span",null,a(A.value?"✓ "+n(r)("copied"):n(r)("share")+n(r)("log")),1)],2)]),e("div",ze,[e("button",{onClick:Z,class:"w-full text-sm bg-secondary hover:bg-secondary/80 text-secondary-foreground px-3 py-2 rounded flex items-center justify-center gap-2 transition-colors duration-300"},[t[8]||(t[8]=G('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3"></path><path d="M21 8V5a2 2 0 0 0-2-2h-3"></path><path d="M3 16v3a2 2 0 0 0 2 2h3"></path><path d="M16 21h3a2 2 0 0 0 2-2v-3"></path></svg>',1)),w(" "+a(m.value?n(r)("exit_fullscreen"):n(r)("fullscreen")),1)])]),e("div",Ue,[e("div",Ye,[j(n(xe),{class:"h-5 w-5 text-muted-foreground dark:text-gray-300"}),e("label",Ze,a(n(r)("auto_wrap")),1),e("button",{onClick:t[0]||(t[0]=s=>L.value=!L.value),class:b([L.value?"bg-primary":"bg-gray-600","relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none"])},[e("span",{class:b([L.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition-transform"])},null,2)],2)]),e("div",Pe,[t[9]||(t[9]=e("div",{class:"h-5 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),e("button",{onClick:ve,class:"text-sm bg-secondary hover:bg-secondary/80 text-secondary-foreground px-3 py-1.5 rounded flex items-center justify-center gap-1 transition-colors duration-300"},[j(n(me),{class:"h-4 w-4"}),e("span",qe,a(n(r)("scroll_footer")),1)])])])]),l.value.analysis&&l.value.analysis.problems&&l.value.analysis.problems.length>0?(c(),d("div",Ge,[e("h3",Je,[t[10]||(t[10]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})],-1)),w(" "+a(n(r)("problems_detected")),1)]),e("div",We,[(c(!0),d(B,null,O(l.value.analysis.problems,(s,p)=>(c(),d("div",{key:p,class:"text-sm p-3 bg-destructive/5 dark:bg-red-900/10 rounded border border-destructive/10 dark:border-red-800/20 transition-colors duration-300"},[e("div",Ke,[t[11]||(t[11]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-destructive dark:text-red-400 flex-shrink-0 mt-0.5 transition-colors duration-300"},[e("polygon",{points:"7.86 2 16.14 2 21.48 10.66 16.14 19.32 7.86 19.32 2.52 10.66 7.86 2"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})],-1)),e("span",null,a(s.message),1),s.line?(c(),d("span",Xe,"(行 "+a(s.line)+")",1)):k("",!0)]),s.solutions&&s.solutions.length?(c(),d("div",Qe,[(c(!0),d(B,null,O(s.solutions,$=>(c(),d("div",{key:$.message,class:"text-muted-foreground dark:text-gray-300 text-sm flex items-start gap-2 transition-colors duration-300"},[t[12]||(t[12]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-green-500 dark:text-green-400 flex-shrink-0 mt-0.5 transition-colors duration-300"},[e("polyline",{points:"20 6 9 17 4 12"})],-1)),e("span",null,a($.message),1)]))),128))])):k("",!0)]))),128))])])):k("",!0),e("div",et,[e("div",tt,[j(n(J),{class:"w-24 h-24"})]),e("h3",ot,[j(n(we),{class:"h-5 w-5"}),e("span",null,a(n(r)("ai_analysis")),1),e("button",{onClick:re,class:"ml-auto text-xs bg-secondary hover:bg-secondary/80 text-secondary-foreground px-2 py-1 rounded transition-colors duration-300 flex items-center gap-1",title:"查看历史分析记录"},[j(n(be),{class:"h-3 w-3"}),t[13]||(t[13]=w(" 历史 ",-1))])]),R.value?(c(),d("div",rt,[e("div",st,[t[14]||(t[14]=e("h4",{class:"font-medium text-sm"},"历史分析记录",-1)),e("button",{onClick:t[1]||(t[1]=s=>R.value=!1),class:"text-xs text-muted-foreground hover:text-foreground"}," 关闭 ")]),F.value.length===0?(c(),d("div",nt," 暂无历史记录 ")):(c(),d("div",at,[(c(!0),d(B,null,O(F.value,(s,p)=>(c(),d("div",{key:p,class:"p-2 bg-white dark:bg-gray-800 rounded border border-border text-sm cursor-pointer hover:bg-secondary/50 dark:hover:bg-gray-700/50 transition-colors",onClick:$=>se(s.analysis)},[e("div",it,[e("span",null,a(new Date(s.timestamp).toLocaleString()),1)])],8,lt))),128))]))])):k("",!0),!x.value&&!M.value?(c(),d("div",dt,[e("button",{onClick:te,class:"w-full bg-black text-white hover:bg-gray-800 px-4 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 flex items-center justify-center gap-2"},[j(n(J),{class:"h-5 w-5"}),w(" "+a(n(r)("start_analysis")),1)]),e("p",ct,a(n(r)("analysis_disclaimer")),1)])):M.value?(c(),d("div",ut,[t[15]||(t[15]=e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#3b82f6] mx-auto"},null,-1)),e("p",gt,a(n(r)("analysis_loading")),1)])):(c(),d("div",vt,[e("div",{class:"prose prose-sm dark:prose-invert max-w-none break-words transition-colors duration-300",innerHTML:ee.value},null,8,ht)]))]),l.value.analysis&&l.value.analysis.information&&l.value.analysis.information.length>0?(c(),d("div",yt,[e("h3",pt,[t[16]||(t[16]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}),e("path",{d:"M8 21h8"}),e("path",{d:"M12 17v4"})],-1)),w(" "+a(n(r)("server_info")),1)]),e("div",ft,[(c(!0),d(B,null,O(l.value.analysis.information,s=>(c(),d("div",{key:s.label,class:"flex justify-between text-sm py-2 border-b dark:border-gray-700/30 last:border-0 transition-colors duration-300"},[e("span",xt,a(s.label),1),e("span",mt,a(s.value),1)]))),128))])])):k("",!0)])),e("div",{class:b(m.value?"flex-1":"w-full lg:w-2/3")},[e("div",wt,[e("div",bt,[t[17]||(t[17]=e("div",{class:"flex gap-1.5"},[e("div",{class:"w-3 h-3 rounded-full bg-red-500"}),e("div",{class:"w-3 h-3 rounded-full bg-yellow-500"}),e("div",{class:"w-3 h-3 rounded-full bg-green-500"})],-1)),e("span",kt,a(n(i))+".log",1)]),e("div",_t,[e("div",Ct,[ke(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>H.value=s),onKeyup:ue,placeholder:n(r)("search")+"...",class:"bg-gray-700 dark:bg-gray-600 text-white dark:text-white text-sm rounded px-3 py-1 w-24 sm:w-32 md:w-40 focus:outline-none focus:ring-1 focus:ring-primary transition-colors duration-300"},null,40,Lt),[[_e,H.value]]),e("button",{onClick:P,class:"ml-1 text-gray-300 dark:text-gray-200 hover:text-white transition-colors duration-300"},[...t[18]||(t[18]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.3-4.3"})],-1)])]),f.value.length>0?(c(),d("div",Tt,a(_.value+1)+"/"+a(f.value.length)+" "+a(n(r)("results")),1)):k("",!0),f.value.length>0?(c(),d("button",{key:1,onClick:ce,class:"ml-1 text-gray-300 dark:text-gray-200 hover:text-white transition-colors duration-300",title:n(r)("previous")},[...t[19]||(t[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"15 18 9 12 15 6"})],-1)])],8,St)):k("",!0),f.value.length>0?(c(),d("button",{key:2,onClick:de,class:"ml-1 text-gray-300 dark:text-gray-200 hover:text-white transition-colors duration-300",title:n(r)("next")},[...t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"9 18 15 12 9 6"})],-1)])],8,jt)):k("",!0)]),m.value?(c(),d("button",{key:0,onClick:Z,class:"bg-black/70 text-white hover:bg-black/90 text-sm flex items-center gap-1 transition-colors duration-300 px-3 py-1.5 rounded-lg shadow-md hover:shadow-lg"},[j(n(Ce),{class:"h-4 w-4"}),w(" "+a(n(r)("exit_fullscreen")),1)])):k("",!0)])]),e("div",{class:b(["bg-[#1a1a1a] dark:bg-gray-900 border border-gray-700 dark:border-gray-600 rounded-b-lg shadow-lg overflow-hidden text-white transition-colors duration-300",{"h-full flex flex-col":m.value,"log-no-wrap":!L.value}])},[e("div",{class:b(m.value?"flex-1 overflow-auto":"overflow-x-auto")},[e("div",{class:b(["log-content font-mono text-xs p-4",{"show-errors-only":T.value,"log-wrap":L.value}]),innerHTML:y.value},null,10,At)],2),e("div",Nt,[e("button",{onClick:ge,class:"text-sm bg-secondary hover:bg-secondary/80 text-secondary-foreground px-3 py-2 rounded flex items-center justify-center gap-1 transition-colors duration-300"},[t[21]||(t[21]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),e("polyline",{points:"5 12 12 5 19 12"})],-1)),w(" "+a(n(r)("scroll_top")),1)])])],2)],2)],2)],2))}});export{Bt as _,Ht as g,X as s};
